<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Status — BlackRoad OS</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--g:linear-gradient(135deg,#F5A623 0%,#FF1D6C 38.2%,#9C27B0 61.8%,#2979FF 100%)}
body{background:#000;color:#fff;font-family:-apple-system,sans-serif;max-width:700px;margin:0 auto;padding:2rem}
h1{font-size:2rem;background:var(--g);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:.25rem}
.overall{margin:1rem 0 2rem;padding:1rem 1.5rem;background:#0a1a0a;border:1px solid #1a3a1a;border-radius:12px;color:#4ade80;display:flex;align-items:center;gap:.75rem}
.big-dot{width:10px;height:10px;background:#4ade80;border-radius:50%;animation:p 2s infinite}
@keyframes p{0%,100%{opacity:1}50%{opacity:.3}}
.group{margin-bottom:1.5rem}
.group h2{font-size:.75rem;text-transform:uppercase;letter-spacing:.15em;color:#333;margin-bottom:.75rem}
.svc{display:flex;align-items:center;justify-content:space-between;padding:.75rem;background:#050505;border:1px solid #0f0f0f;border-radius:10px;margin-bottom:.5rem}
.svc-name{font-size:.9rem}
.svc-url{font-size:.7rem;color:#333;margin-top:.2rem}
.badge{font-size:.75rem;padding:.25rem .6rem;border-radius:6px;font-weight:600}
.op{background:#0a1a0a;color:#4ade80}.down{background:#1a0a0a;color:#f87171}.check{background:#1a1a0a;color:#fbbf24}
#last{color:#222;font-size:.7rem;text-align:right;margin-top:1rem}
</style>
</head>
<body>
<h1>System Status</h1>
<div class="overall" id="overall"><div class="big-dot"></div><span>All systems operational</span></div>
<div class="group">
<h2>Core Workers</h2>
<div id="workers"></div>
</div>
<div class="group">
<h2>Pi Fleet</h2>
<div class="svc"><div><div class="svc-name">blackroad-pi (Primary)</div><div class="svc-url">192.168.4.64 → api.blackroad.io</div></div><span class="badge op" id="pi1">checking</span></div>
<div class="svc"><div><div class="svc-name">aria64 (AI Accelerator)</div><div class="svc-url">192.168.4.38 · 22,500 agent capacity</div></div><span class="badge op" id="pi2">checking</span></div>
<div class="svc"><div><div class="svc-name">blackroad os-infinity (DO Droplet)</div><div class="svc-url">159.65.43.12 · failover</div></div><span class="badge op" id="pi3">standby</span></div>
</div>
<div id="last">Checking...</div>
<script>
const WORKERS=[
  {name:'Agents API',url:'https://agents-api.blackroad.workers.dev/health'},
  {name:'Tools API',url:'https://tools-api.blackroad.workers.dev/health'},
  {name:'Command Center',url:'https://command-center.blackroad.workers.dev/health'},
  {name:'blackroad.io portal',url:'https://blackroad.io'},
];
const container=document.getElementById('workers');
let downCount=0;
async function check(){
  downCount=0;
  container.innerHTML='';
  for(const w of WORKERS){
    let ok=false;
    try{const r=await fetch(w.url,{signal:AbortSignal.timeout(4000)});ok=r.ok;}catch{}
    if(!ok)downCount++;
    container.innerHTML+=`<div class="svc"><div><div class="svc-name">${w.name}</div><div class="svc-url">${w.url}</div></div><span class="badge ${ok?'op':'down'}">${ok?'operational':'offline'}</span></div>`;
  }
  // Pi checks via api.blackroad.io
  try{const r=await fetch('https://api.blackroad.io/fleet',{signal:AbortSignal.timeout(4000)});if(r.ok){document.getElementById('pi1').textContent='operational';}}catch{document.getElementById('pi1').textContent='checking';}
  const overall=document.getElementById('overall');
  if(downCount>0){overall.style.background='#1a0a0a';overall.style.borderColor='#3a1a1a';overall.innerHTML=`<div class="big-dot" style="background:#f87171"></div><span style="color:#f87171">${downCount} service(s) affected</span>`;}
  document.getElementById('last').textContent='Last checked: '+new Date().toUTCString();
}
check();setInterval(check,60000);
</script>
</body>
</html>
